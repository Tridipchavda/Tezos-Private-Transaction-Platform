(this["webpackJsonpwad-workshop-dapp"]=this["webpackJsonpwad-workshop-dapp"]||[]).push([[0],{126:function(e,t){},216:function(e,t){},218:function(e,t){},228:function(e,t){},230:function(e,t){},259:function(e,t){},260:function(e,t){},266:function(e,t){},285:function(e,t){},339:function(e,t){},384:function(e,t,n){},385:function(e,t,n){"use strict";n.r(t);var c=n(10),r=n.n(c),a=n(195),s=n.n(a),i=n(46),o=n(20),u=n(0),j=n(22),l=n(15),d=new(n(205).a)({name:"Tez Pay",preferredNetwork:"jakartanet"}),b=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.requestPermissions({network:{type:"jakartanet"}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.client.getActiveAccount();case 2:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t.address);case 7:return e.abrupt("return","");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=new(n(58).a)("https://jakartanet.smartpy.io");x.setWalletProvider(d);var O=n(4),f=n(9),h=function(){var e=Object(c.useState)([{}]),t=Object(l.a)(e,2),n=t[0],r=t[1],a=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){var t,n,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:if(""==(t=e.sent)){e.next=11;break}return e.next=6,fetch("https://contacts-7f66a-default-rtdb.firebaseio.com/".concat(t,".json"));case 6:return n=e.sent,e.next=9,n.json();case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){var t,n,c,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,a();case 3:for(s in n=e.sent,c=function(e){var c=n[e].Cname,a=n[e].Caddress;t[c]||r((function(e){return[].concat(Object(O.a)(e),[{Cname:c,Caddress:a}])})),t[c]=a},n)c(s);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(){return e()}}),[]);var s=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){var t,n,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:if(""==(t=e.sent)){e.next=10;break}return n=document.getElementById("ContactName").value,c=document.getElementById("ContactAddress").value,e.next=8,fetch("https://contacts-7f66a-default-rtdb.firebaseio.com/".concat(t,".json"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({Cname:n,Caddress:c})});case 8:e.sent?alert("Success"):alert("Failed");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("center",{children:Object(f.jsxs)("div",{className:"main",children:[Object(f.jsx)("div",{className:"heading",children:Object(f.jsx)("h1",{children:"Add To Contact"})}),Object(f.jsxs)("div",{className:"contact-list-box",children:[Object(f.jsx)("div",{className:"cont",children:Object(f.jsxs)("form",{action:"",className:"input-elements",children:[Object(f.jsx)("h3",{children:"Create New Contact"}),Object(f.jsx)("input",{type:"text",id:"ContactName",placeholder:"Name"}),Object(f.jsx)("input",{type:"text",id:"ContactAddress",name:"public-key",placeholder:"Public Key"}),Object(f.jsx)("button",{type:"button",onClick:s,className:"contactBtn",children:"Add Contact"})]})}),Object(f.jsx)("hr",{}),Object(f.jsx)("h2",{children:"Contacts"}),n.map((function(e){if(e.Cname)return Object(f.jsxs)("div",{className:"contact",id:"contact-1",children:[Object(f.jsx)("p",{className:"name",children:e.Cname}),Object(f.jsx)("p",{className:"public_key",children:e.Caddress})]})}))]})]})})})},m=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(l.a)(a,2),i=s[0],o=s[1],d=Object(c.useState)(0),O=Object(l.a)(d,2);O[0],O[1];Object(c.useEffect)((function(){Object(j.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.navigator.onLine){e.next=12;break}return e.prev=1,e.next=4,p();case 4:t=e.sent,r(t),h(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("No Connection Found");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}),[]);var h=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!=t&&x.tz.getBalance(t).then((function(e){console.log("your balance is "+e),o(e/1e6)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return e.next=4,p();case 4:t=e.sent,r(t),h(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("script",{src:"https://code.jquery.com/jquery-3.4.1.slim.min.js",integrity:"sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n",crossorigin:"anonymous"}),Object(f.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js",integrity:"sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo",crossorigin:"anonymous"}),Object(f.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js",integrity:"sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6",crossorigin:"anonymous"}),Object(f.jsx)("div",{className:"navbar",children:Object(f.jsxs)("div",{className:"container py-1",children:[Object(f.jsx)("div",{className:"d-flex",children:Object(f.jsx)("button",{onClick:m,className:"btn",children:""!==n?n:"Connect Wallet"})}),Object(f.jsx)("a",{href:"/",className:"navbar-brand name",children:""!==i?"Balance: ".concat(i," \ua729"):"Tez Pay"})]})})]})},v=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t,n){var c,r,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="KT1NwBTADHU1XYsiEXMAgGsKYTNTaRdSoKWg",e.next=3,p();case 3:if(""!=e.sent){e.next=10;break}return e.next=7,b();case 7:return e.next=9,p();case 9:e.sent;case 10:return e.prev=10,e.next=13,x.wallet.at(c);case 13:return r=e.sent,e.next=16,r.methods.sendTez(t).send({amount:n,mutez:!1});case 16:return a=e.sent,e.next=19,a.confirmation(1);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(10),alert("Transaction Aborted");case 24:case"end":return e.stop()}}),e,null,[[10,21]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t,n){var c,r,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="KT1FeYjzBiuMTDZKcG2TkHCoYnDB7h8PvG3H",e.next=3,p();case 3:if(""!=e.sent){e.next=10;break}return e.next=7,b();case 7:return e.next=9,p();case 9:e.sent;case 10:return e.prev=10,e.next=13,x.wallet.at(c);case 13:return r=e.sent,e.next=16,r.methods.default(t).send({amount:n,mutez:!1});case 16:return a=e.sent,e.next=19,a.confirmation(1);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(10),alert("Transaction Aborted");case 24:case"end":return e.stop()}}),e,null,[[10,21]])})));return function(t,n){return e.apply(this,arguments)}}(),k=n(202),w=n.n(k),g=function(){var e=Object(j.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("https://api.jakartanet.tzkt.io/v1/contracts/KT1NwBTADHU1XYsiEXMAgGsKYTNTaRdSoKWg/storage/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(c.useState)("Instant"),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(0),s=Object(l.a)(a,2),i=s[0],o=s[1],d=Object(c.useState)(""),x=Object(l.a)(d,2),O=x[0],h=x[1],m=Object(c.useRef)(null),k=function(e){r(e)},w="";Object(c.useEffect)((function(){Object(j.a)(Object(u.a)().mark((function e(){var t,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:if(""==(t=e.sent)){e.next=10;break}return e.next=6,fetch("https://contacts-7f66a-default-rtdb.firebaseio.com/".concat(t,".json"));case 6:return n=e.sent,e.next=9,n.json();case 9:w=e.sent;case 10:case"end":return e.stop()}}),e)})))()}));var N=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var n,c,r,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in o(0),""==(n=t.target.value)&&h(""),"",w)r=w[c].Cname,a=w[c].Caddress,n==r&&(console.log(r),o(1),h(a),a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var c,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p();case 3:if(""!=e.sent){e.next=10;break}return e.next=7,b();case 7:return e.next=9,p();case 9:e.sent;case 10:return e.next=12,g();case 12:if(e.sent,c=document.getElementById("rAddress").value,r=document.getElementById("Tez").value,""!=c&&""!=r){e.next=18;break}return alert("Please Enter value"),e.abrupt("return");case 18:if("Contract"!=n){e.next=23;break}return e.next=21,v(c,r);case 21:e.next=25;break;case 23:return e.next=25,y(c,r);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{class:"outer",children:[Object(f.jsx)("div",{class:"payment-type",children:"Contract"==n?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{class:"instant",onClick:function(){return k("Instant")},children:"Instant Pay"}),Object(f.jsx)("p",{class:"normal",onClick:function(){return k("Contract")},children:"Pay"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{class:"normal",onClick:function(){return k("Instant")},children:"Instant Pay"}),Object(f.jsx)("p",{class:"instant",onClick:function(){return k("Contract")},children:"Pay"})]})}),Object(f.jsxs)("form",{action:"",children:[Object(f.jsx)("input",{type:"text",onKeyUp:N,id:"receiverName",placeholder:"User Name"}),1==i?Object(f.jsx)("input",{type:"text",ref:m,name:"",id:"rAddress",value:O,placeholder:"Public Key"}):Object(f.jsx)("input",{type:"text",ref:m,name:"",id:"rAddress",placeholder:"Public Key"}),Object(f.jsx)("input",{type:"text",name:"",id:"Tez",placeholder:"Ammount (In Tez)"}),Object(f.jsx)("button",{class:"send_tez_button",onClick:C,children:"Send Tez"})]})]})},C=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var n,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"KT1NwBTADHU1XYsiEXMAgGsKYTNTaRdSoKWg",e.next=3,x.wallet.at("KT1NwBTADHU1XYsiEXMAgGsKYTNTaRdSoKWg");case 3:return n=e.sent,e.next=6,n.methods.receiveTez(t).send();case 6:return c=e.sent,e.next=9,c.confirmation(1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p();case 3:if(""!=e.sent){e.next=10;break}return console.log("No Wallet Found"),e.next=8,b();case 8:return e.next=10,p();case 10:if(n=document.getElementById("cKey").value,console.log(n),""!=n){e.next=15;break}return alert("Please Enter value"),e.abrupt("return");case 15:return e.next=17,C(n);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{class:"outer",children:[Object(f.jsx)("p",{class:"payment-type",children:"Receive Tez"}),Object(f.jsxs)("form",{action:"",children:[Object(f.jsx)("input",{type:"text",name:"",id:"",placeholder:"User Name"}),Object(f.jsx)("input",{type:"text",name:"",id:"cKey",placeholder:"Public Key"}),Object(f.jsx)("button",{class:"send_tez_button",onClick:e,children:"Collect Tez"})]})]})},K=function(){var e=Object(c.useState)([{cKey:"None",amount:0,to:"None",valid:!0}]),t=Object(l.a)(e,2),n=t[0],r=t[1],a=function(e){navigator.clipboard.writeText(e.target.id),alert("Key has been copied")};return Object(c.useEffect)((function(){Object(j.a)(Object(u.a)().mark((function e(){var t,n,c,a,s,i,o,j,l;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return t=e.sent,e.next=5,g();case 5:for(n=e.sent,c=[{}],a=0,s=0;s<n.list.length;s++)n.list[s]._from==t&&(i=n.list[s].cKey,o=n.list[s]._to,j=parseInt(n.list[s].amount)/1e6,l=n.list[s].valid,c[a++]={cKey:i,to:o,amount:j,valid:l});r(c);case 10:case"end":return e.stop()}}),e)})))()}),[]),Object(f.jsx)("div",{className:"pending",children:Object(f.jsx)("div",{className:"center_div02",children:Object(f.jsxs)("div",{className:"center_div02_temp",children:[Object(f.jsx)("div",{className:"transaction_history_title",children:Object(f.jsx)("p",{children:"transaction history"})}),Object(f.jsx)("div",{className:"history_data",children:Object(f.jsx)("div",{className:"history_data01",children:n.map((function(e){if(void 0!=e.cKey)return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"common_history",children:[Object(f.jsxs)("div",{className:"col1",children:[Object(f.jsx)("p",{children:e.to}),Object(f.jsx)("p",{id:e.cKey,onClick:a,children:e.cKey.substring(0,40)+"..."})]}),Object(f.jsxs)("div",{className:"col2",children:[Object(f.jsx)("p",{children:e.amount}),Object(f.jsx)("p",{children:"3 aug 2022, 11:15pm"})]}),Object(f.jsx)("div",{className:"col3",children:0==e.valid?Object(f.jsx)("img",{width:"30px",height:"30px",src:"https://img.icons8.com/external-flaticons-flat-flat-icons/64/000000/external-correct-press-and-media-flaticons-flat-flat-icons.png"}):Object(f.jsx)("img",{width:"30px",height:"30px",src:"https://img.icons8.com/ios/50/000000/alarm-clock--v1.png"})})]})})}))})})]})})})},_=n(203),z=n.n(_),S=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){Object(j.a)(Object(u.a)().mark((function e(){var t,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:if(""==(t=e.sent)){e.next=8;break}return e.next=6,z.a.toDataURL(t);case 6:n=e.sent,r(n);case 8:case"end":return e.stop()}}),e)})))()})),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"center_div01",children:[Object(f.jsx)("div",{className:"QR_div",children:Object(f.jsxs)("div",{className:"QR_final",children:[Object(f.jsx)("img",{src:n}),Object(f.jsx)(i.b,{to:"/QRcode",children:Object(f.jsx)("p",{children:"scan QR to pay tez"})})]})}),Object(f.jsxs)("div",{className:"button_pay_accept",children:[Object(f.jsx)("div",{className:"temp_line"}),Object(f.jsx)("div",{className:"button_div_final",children:Object(f.jsxs)("div",{className:"button_div_final01",children:[Object(f.jsx)(i.b,{to:"/send",children:Object(f.jsxs)("button",{className:"common_button",children:[Object(f.jsx)("span",{className:"sp01",children:Object(f.jsx)("img",{src:"https://i.ibb.co/QjMSGkL/send01.png"})}),Object(f.jsx)("p",{children:"send tez"})]})}),Object(f.jsx)(i.b,{to:"/receive",children:Object(f.jsxs)("button",{className:"common_button",children:[Object(f.jsx)("span",{className:"sp01",children:Object(f.jsx)("img",{src:"https://www.linkpicture.com/q/recieve01.png"})}),Object(f.jsx)("p",{children:"recieve tez"})]})}),Object(f.jsx)(i.b,{to:"/contact",children:Object(f.jsxs)("button",{className:"common_button",children:[Object(f.jsx)("span",{className:"sp01",children:Object(f.jsx)("img",{src:"https://i.ibb.co/nRL0M0f/contacts.png"})}),Object(f.jsx)("p",{children:"add to contact"})]})})]})})]})]})})},I=n(204),E=function(e){var t=Object(c.useState)("No result"),n=Object(l.a)(t,2),r=n[0],a=n[1],s=Object(c.useRef)(null),i=Object(c.useRef)(null),o=Object(c.useState)("Instant"),d=Object(l.a)(o,2),x=d[0],O=d[1],h=function(e){O(e)},m=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var n,c;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p();case 3:if(""!=e.sent){e.next=10;break}return e.next=7,b();case 7:return e.next=9,p();case 9:e.sent;case 10:if(n=document.getElementById("rAddress").value,c=document.getElementById("Tez").value,""!=n&&""!=c){e.next=15;break}return alert("Please Enter value"),e.abrupt("return");case 15:if("Contract"!=x){e.next=20;break}return e.next=18,v(n,c);case 18:e.next=22;break;case 20:return e.next=22,y(n,c);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("center",{children:Object(f.jsx)("div",{className:"QRContainer",ref:i,children:"No result"==r?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"Scan Your QR here"}),Object(f.jsx)(I.a,{onResult:function(e,t){if(e){a(null===e||void 0===e?void 0:e.text),s.current.scrollIntoView();i.video.srcObject;i.disconnect(),i.current.stopCamera()}t&&console.info(t)},style:{width:"100%"}})]}):Object(f.jsx)("h2",{children:"QR Scanned"})})}),Object(f.jsxs)("div",{className:"outer",ref:s,children:[Object(f.jsx)("div",{class:"payment-type",children:"Contract"==x?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{class:"instant",onClick:function(){return h("Instant")},children:"Instant Pay"}),Object(f.jsx)("p",{class:"normal",onClick:function(){return h("Contract")},children:"Pay"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{class:"normal",onClick:function(){return h("Instant")},children:"Instant Pay"}),Object(f.jsx)("p",{class:"instant",onClick:function(){return h("Contract")},children:"Pay"})]})}),Object(f.jsxs)("form",{action:"",children:[Object(f.jsx)("input",{disabled:!0,type:"text",value:r,id:"rAddress",placeholder:"Public Key"}),Object(f.jsx)("input",{type:"text",id:"Tez",placeholder:"Ammount (In Tez)"}),Object(f.jsx)("button",{class:"send_tez_button",onClick:m,children:"Send Tez"})]})]})]})},A=function(){return Object(f.jsxs)(i.a,{children:[Object(f.jsx)(m,{}),Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{path:"/",element:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(S,{})," ",Object(f.jsx)(K,{})]})}),Object(f.jsx)(o.a,{path:"/send",element:Object(f.jsx)(N,{})}),Object(f.jsx)(o.a,{path:"/receive",element:Object(f.jsx)(T,{})}),Object(f.jsx)(o.a,{path:"/QRcode",element:Object(f.jsx)(E,{})}),Object(f.jsx)(o.a,{path:"/contact",element:Object(f.jsx)(c.StrictMode,{children:Object(f.jsx)(h,{})})})]})]})};n(384);s.a.createRoot(document.getElementById("root")).render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(A,{})}))}},[[385,1,2]]]);
//# sourceMappingURL=main.d978ff2b.chunk.js.map