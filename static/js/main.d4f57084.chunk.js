(this["webpackJsonpwad-workshop-dapp"]=this["webpackJsonpwad-workshop-dapp"]||[]).push([[0],{124:function(e,t){},214:function(e,t){},216:function(e,t){},226:function(e,t){},228:function(e,t){},257:function(e,t){},258:function(e,t){},264:function(e,t){},283:function(e,t){},337:function(e,t){},382:function(e,t,n){},383:function(e,t,n){"use strict";n.r(t);var c=n(10),r=n.n(c),a=n(193),s=n.n(a),i=n(0),o=n(21),u=n(15),l=new(n(203).a)({name:"Tez Pay",preferredNetwork:"jakartanet"}),j=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.requestPermissions({network:{type:"jakartanet"}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.client.getActiveAccount();case 2:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t.address);case 7:return e.abrupt("return","");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=new(n(55).a)("https://jakartanet.smartpy.io");b.setWalletProvider(l);var p=n(4),x=n(9),f=function(){var e=Object(c.useState)([{}]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t,n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:if(""==(t=e.sent)){e.next=11;break}return e.next=6,fetch("https://contacts-7f66a-default-rtdb.firebaseio.com/".concat(t,".json"));case 6:return n=e.sent,e.next=9,n.json();case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t,n,c,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,a();case 3:for(s in n=e.sent,c=function(e){var c=n[e].Cname,a=n[e].Caddress;t[c]||r((function(e){return[].concat(Object(p.a)(e),[{Cname:c,Caddress:a}])})),t[c]=a},n)c(s);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return function(){return e()}}),[]);var s=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t,n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:if(""==(t=e.sent)){e.next=10;break}return n=document.getElementById("ContactName").value,c=document.getElementById("ContactAddress").value,e.next=8,fetch("https://contacts-7f66a-default-rtdb.firebaseio.com/".concat(t,".json"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({Cname:n,Caddress:c})});case 8:e.sent?alert("Success"):alert("Failed");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("center",{children:Object(x.jsxs)("div",{className:"main",children:[Object(x.jsx)("div",{className:"heading",children:Object(x.jsx)("h1",{children:"Add To Contact"})}),Object(x.jsxs)("div",{className:"contact-list-box",children:[Object(x.jsx)("div",{className:"cont",children:Object(x.jsxs)("form",{action:"",className:"input-elements",children:[Object(x.jsx)("h3",{children:"Create New Contact"}),Object(x.jsx)("input",{type:"text",id:"ContactName",placeholder:"Name"}),Object(x.jsx)("input",{type:"text",id:"ContactAddress",name:"public-key",placeholder:"Public Key"}),Object(x.jsx)("button",{type:"button",onClick:s,className:"contactBtn",children:"Add Contact"})]})}),Object(x.jsx)("hr",{}),Object(x.jsx)("h2",{children:"Contacts"}),n.map((function(e){if(e.Cname)return Object(x.jsxs)("div",{className:"contact",id:"contact-1",children:[Object(x.jsx)("p",{className:"name",children:e.Cname}),Object(x.jsx)("p",{className:"public_key",children:e.Caddress})]})}))]})]})})})},O=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(u.a)(a,2),l=s[0],p=s[1],f=Object(c.useState)(0),O=Object(u.a)(f,2);O[0],O[1];Object(c.useEffect)((function(){Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.navigator.onLine){e.next=12;break}return e.prev=1,e.next=4,d();case 4:t=e.sent,r(t),h(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("No Connection Found");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}),[]);var h=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!=t&&b.tz.getBalance(t).then((function(e){console.log("your balance is "+e),p(e/1e6)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:return e.next=4,d();case 4:t=e.sent,r(t),h(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("script",{src:"https://code.jquery.com/jquery-3.4.1.slim.min.js",integrity:"sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n",crossorigin:"anonymous"}),Object(x.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js",integrity:"sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo",crossorigin:"anonymous"}),Object(x.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js",integrity:"sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6",crossorigin:"anonymous"}),Object(x.jsx)("div",{className:"navbar",children:Object(x.jsxs)("div",{className:"container py-1",children:[Object(x.jsx)("div",{className:"d-flex",children:Object(x.jsx)("button",{onClick:m,className:"btn",children:""!==n?n:"Connect Wallet"})}),Object(x.jsx)("a",{href:"/",className:"navbar-brand name",children:""!==l?"Balance: ".concat(l," \ua729"):"Tez Pay"})]})})]})},h=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,n){var c,r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="KT1NwBTADHU1XYsiEXMAgGsKYTNTaRdSoKWg",e.next=3,d();case 3:if(""!=e.sent){e.next=10;break}return e.next=7,j();case 7:return e.next=9,d();case 9:e.sent;case 10:return e.prev=10,e.next=13,b.wallet.at(c);case 13:return r=e.sent,e.next=16,r.methods.sendTez(t).send({amount:n,mutez:!1});case 16:return a=e.sent,e.next=19,a.confirmation(1);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(10),alert("Transaction Aborted");case 24:case"end":return e.stop()}}),e,null,[[10,21]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,n){var c,r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="KT1FeYjzBiuMTDZKcG2TkHCoYnDB7h8PvG3H",e.next=3,d();case 3:if(""!=e.sent){e.next=10;break}return e.next=7,j();case 7:return e.next=9,d();case 9:e.sent;case 10:return e.prev=10,e.next=13,b.wallet.at(c);case 13:return r=e.sent,e.next=16,r.methods.default(t).send({amount:n,mutez:!1});case 16:return a=e.sent,e.next=19,a.confirmation(1);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(10),alert("Transaction Aborted");case 24:case"end":return e.stop()}}),e,null,[[10,21]])})));return function(t,n){return e.apply(this,arguments)}}(),v=n(200),y=n.n(v),k=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("https://api.jakartanet.tzkt.io/v1/contracts/KT1NwBTADHU1XYsiEXMAgGsKYTNTaRdSoKWg/storage/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.useState)("Instant"),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(0),s=Object(u.a)(a,2),l=s[0],b=s[1],p=Object(c.useState)(""),f=Object(u.a)(p,2),O=f[0],v=f[1],y=Object(c.useRef)(null),w=function(e){r(e)},g="";Object(c.useEffect)((function(){Object(o.a)(Object(i.a)().mark((function e(){var t,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:if(""==(t=e.sent)){e.next=10;break}return e.next=6,fetch("https://contacts-7f66a-default-rtdb.firebaseio.com/".concat(t,".json"));case 6:return n=e.sent,e.next=9,n.json();case 9:g=e.sent;case 10:case"end":return e.stop()}}),e)})))()}));var C=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n,c,r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in b(0),""==(n=t.target.value)&&v(""),"",g)r=g[c].Cname,a=g[c].Caddress,n==r&&(console.log(r),b(1),v(a),a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var c,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d();case 3:if(""!=e.sent){e.next=10;break}return e.next=7,j();case 7:return e.next=9,d();case 9:e.sent;case 10:return e.next=12,k();case 12:if(e.sent,c=document.getElementById("rAddress").value,r=document.getElementById("Tez").value,""!=c&&""!=r){e.next=18;break}return alert("Please Enter value"),e.abrupt("return");case 18:if("Contract"!=n){e.next=23;break}return e.next=21,h(c,r);case 21:e.next=25;break;case 23:return e.next=25,m(c,r);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{class:"outer",children:[Object(x.jsx)("div",{class:"payment-type",children:"Contract"==n?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{class:"instant",onClick:function(){return w("Instant")},children:"Instant Pay"}),Object(x.jsx)("p",{class:"normal",onClick:function(){return w("Contract")},children:"Pay"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{class:"normal",onClick:function(){return w("Instant")},children:"Instant Pay"}),Object(x.jsx)("p",{class:"instant",onClick:function(){return w("Contract")},children:"Pay"})]})}),Object(x.jsxs)("form",{action:"",children:[Object(x.jsx)("input",{type:"text",onKeyUp:C,id:"receiverName",placeholder:"User Name"}),1==l?Object(x.jsx)("input",{type:"text",ref:y,name:"",id:"rAddress",value:O,placeholder:"Public Key"}):Object(x.jsx)("input",{type:"text",ref:y,name:"",id:"rAddress",placeholder:"Public Key"}),Object(x.jsx)("input",{type:"text",name:"",id:"Tez",placeholder:"Ammount (In Tez)"}),Object(x.jsx)("button",{class:"send_tez_button",onClick:N,children:"Send Tez"})]})]})},g=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"KT1NwBTADHU1XYsiEXMAgGsKYTNTaRdSoKWg",e.next=3,b.wallet.at("KT1NwBTADHU1XYsiEXMAgGsKYTNTaRdSoKWg");case 3:return n=e.sent,e.next=6,n.methods.receiveTez(t).send();case 6:return c=e.sent,e.next=9,c.confirmation(1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d();case 3:if(""!=e.sent){e.next=10;break}return console.log("No Wallet Found"),e.next=8,j();case 8:return e.next=10,d();case 10:if(n=document.getElementById("cKey").value,console.log(n),""!=n){e.next=15;break}return alert("Please Enter value"),e.abrupt("return");case 15:return e.next=17,g(n);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{class:"outer",children:[Object(x.jsx)("p",{class:"payment-type",children:"Receive Tez"}),Object(x.jsxs)("form",{action:"",children:[Object(x.jsx)("input",{type:"text",name:"",id:"",placeholder:"User Name"}),Object(x.jsx)("input",{type:"text",name:"",id:"cKey",placeholder:"Public Key"}),Object(x.jsx)("button",{class:"send_tez_button",onClick:e,children:"Collect Tez"})]})]})},N=function(){var e=Object(c.useState)([{cKey:"None",amount:0,to:"None",valid:!0}]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=function(e){navigator.clipboard.writeText(e.target.id),alert("Key has been copied")};return Object(c.useEffect)((function(){Object(o.a)(Object(i.a)().mark((function e(){var t,n,c,a,s,o,u,l,j;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return t=e.sent,e.next=5,k();case 5:for(n=e.sent,c=[{}],a=0,s=0;s<n.list.length;s++)n.list[s]._from==t&&(o=n.list[s].cKey,u=n.list[s]._to,l=parseInt(n.list[s].amount)/1e6,j=n.list[s].valid,c[a++]={cKey:o,to:u,amount:l,valid:j});r(c);case 10:case"end":return e.stop()}}),e)})))()}),[]),Object(x.jsx)("div",{className:"pending",children:Object(x.jsx)("div",{className:"center_div02",children:Object(x.jsxs)("div",{className:"center_div02_temp",children:[Object(x.jsx)("div",{className:"transaction_history_title",children:Object(x.jsx)("p",{children:"transaction history"})}),Object(x.jsx)("div",{className:"history_data",children:Object(x.jsx)("div",{className:"history_data01",children:0==n.length?n.map((function(e){if(void 0!=e.cKey)return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"common_history",children:[Object(x.jsxs)("div",{className:"col1",children:[Object(x.jsx)("p",{children:e.to}),Object(x.jsx)("p",{id:e.cKey,onClick:a,children:e.cKey.substring(0,40)+"..."})]}),Object(x.jsxs)("div",{className:"col2",children:[Object(x.jsx)("p",{children:e.amount}),Object(x.jsx)("p",{children:"3 aug 2022, 11:15pm"})]}),Object(x.jsx)("div",{className:"col3",children:0==e.valid?Object(x.jsx)("img",{width:"30px",height:"30px",src:"https://img.icons8.com/external-flaticons-flat-flat-icons/64/000000/external-correct-press-and-media-flaticons-flat-flat-icons.png"}):Object(x.jsx)("img",{width:"30px",height:"30px",src:"https://img.icons8.com/ios/50/000000/alarm-clock--v1.png"})})]})})})):Object(x.jsx)("p",{children:"No Transactions Found"})})})]})})})},T=(n(56),n(201),n(202)),K=function(e){var t=Object(c.useState)("No result"),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(c.useRef)(null),l=Object(c.useRef)(null),b=Object(c.useState)("Instant"),p=Object(u.a)(b,2),f=p[0],O=p[1],v=function(e){O(e)},y=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d();case 3:if(""!=e.sent){e.next=10;break}return e.next=7,j();case 7:return e.next=9,d();case 9:e.sent;case 10:if(n=document.getElementById("rAddress").value,c=document.getElementById("Tez").value,""!=n&&""!=c){e.next=15;break}return alert("Please Enter value"),e.abrupt("return");case 15:if("Contract"!=f){e.next=20;break}return e.next=18,h(n,c);case 18:e.next=22;break;case 20:return e.next=22,m(n,c);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("center",{children:Object(x.jsx)("div",{className:"QRContainer",ref:l,children:"No result"==r?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"Scan Your QR here"}),Object(x.jsx)(T.a,{onResult:function(e,t){if(e){a(null===e||void 0===e?void 0:e.text),s.current.scrollIntoView();l.video.srcObject;l.disconnect(),l.current.stopCamera()}t&&console.info(t)},style:{width:"100%",border:"5px solid #0F3D3D"}})]}):Object(x.jsx)("h2",{children:"QR Scanned"})})}),Object(x.jsxs)("div",{className:"outer",ref:s,style:{margin:"100px 0px 0px 0px"},children:[Object(x.jsx)("div",{class:"payment-type",children:"Contract"==f?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{class:"instant",onClick:function(){return v("Instant")},children:"Instant Pay"}),Object(x.jsx)("p",{class:"normal",onClick:function(){return v("Contract")},children:"Pay"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{class:"normal",onClick:function(){return v("Instant")},children:"Instant Pay"}),Object(x.jsx)("p",{class:"instant",onClick:function(){return v("Contract")},children:"Pay"})]})}),Object(x.jsxs)("form",{action:"",children:[Object(x.jsx)("input",{disabled:!0,type:"text",value:r,id:"rAddress",placeholder:"Public Key"}),Object(x.jsx)("input",{type:"text",id:"Tez",placeholder:"Ammount (In Tez)"}),Object(x.jsx)("button",{class:"send_tez_button",onClick:y,children:"Send Tez"})]})]})]})},I=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O,{}),Object(x.jsx)(N,{}),Object(x.jsx)(w,{}),Object(x.jsx)(C,{}),Object(x.jsx)("div",{style:{margin:"200px 0px 0px 0px"},children:Object(x.jsx)(K,{})}),Object(x.jsx)(c.StrictMode,{children:Object(x.jsx)(f,{})})]})};n(382);s.a.createRoot(document.getElementById("root")).render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(I,{})}))}},[[383,1,2]]]);
//# sourceMappingURL=main.d4f57084.chunk.js.map